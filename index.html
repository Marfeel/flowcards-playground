<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="private, max-age=0, no-cache, no-store" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Marfeel Flowcards - Playground</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="icon" href="./assets/favicon.png" />
  </head>

  <body>
    <header>
      <img src="./assets/logo.svg" style="max-width: 100%; height: auto;" />
    </header>
    <div class="container">
      <h1>Show the right message,<span>to the right people,</span><span>at the right time.</span></h1>
      <form
        action="https://playground.mrf.io/simulate"
        method="get"
        id="form"
      >
        <div class="form">
          <input
            id="siteUrl"
            name="siteUrl"
            value=""
            class="form__input"
            placeholder="Enter your website URL"
          />
          <input type="hidden" id="requestHostname" name="requestHostname" />
          <div class="card-type" title="Page technology">
            <input
              id="technologyWeb"
              name="technology"
              type="radio"
              class="form__radio"
              value="web"
              checked
            />
            <label for="technologyWeb">Web</label>
            <input
              id="technologyAmp"
              name="technology"
              type="radio"
              class="form__radio"
              value="amp"
            />
            <label for="technologyAmp">AMP</label>
          </div>
          <button class="form__button" type="submit">
            Simulate
          </button>
          <div class="mobile-cta">
            <button class="form__button" type="submit">
              Simulate
            </button>
          </div>
        </div>
        <div class="grid-cards">
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/homepage/homepage.json"
              checked
            />
            <div class="card selected">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/homepage/homepage.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-homepage-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-homepage.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Homepage</h3>
                <p class="card__text">
                  Show the homepage of your site to any reader landing on an
                  article.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/featured_article/featured_article.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/featured_article/featured_article.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-hero-425w.png"
                />
                <img class="card__image" src="./assets/cards/card-hero.png" />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Featured article</h3>
                <p class="card__text">
                  Featured article with a Hero Image orchestration.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/top_articles/top_articles.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/top_articles/top_articles.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-top-articles-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-top-articles.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Top articles</h3>
                <p class="card__text">
                  List of Top articles.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/taboola/taboola.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/taboola/taboola.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-taboola-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-taboola.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Taboola</h3>
                <p class="card__text">
                  Load native ads directly in a Flowcard
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/multicard/multicard.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/multicard/multicard.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-multicard-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-multicard.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Multicard</h3>
                <p class="card__text">
                  Multicard experience. Show multiple cards to a user with different snap points.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/newsletter/newsletter.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/newsletter/newsletter.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-newsletter-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-newsletter.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Newsletter</h3>
                <p class="card__text">
                  Flowcard to subscribe to newsletters.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/paywall/paywall.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/paywall/paywall.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-paywall-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-paywall.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Paywall</h3>
                <p class="card__text">
                  Flowcard for Paywall with a modal experience.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/facebook/facebook.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/facebook/facebook.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-facebook-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-facebook.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Facebook fan-page</h3>
                <p class="card__text">
                  Show the Facebook fan-page to engage your audience and get new
                  followers.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/telegram/telegram.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/telegram/telegram.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-telegram-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-telegram.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Telegram</h3>
                <p class="card__text">
                  Social strategy is key to diversify revenues. Get new
                  followers and embrace your community.
                </p>
              </div>
            </div>
          </label>
          <label>
            <input
              id="experienceUrl"
              name="experienceUrl"
              type="radio"
              value="/experiences/push_notifications/push_notifications.json"
            />
            <div class="card">
              <div class="card__btn-placeholder">
                <a class="card__btn-sandbox"
                href="https://codesandbox.io/s/github/Marfeel/flowcards-playground/tree/master?file=/experiences/push_notifications/push_notifications.json"
                target="_blank"
                rel="noopener noreferrer">Open Sandbox</a>
              </div>
              <picture>
                <source
                  media="(max-width: 425px)"
                  srcset="./assets/cards/card-notifications-425w.png"
                />
                <img
                  class="card__image"
                  src="./assets/cards/card-notifications.png"
                />
              </picture>
              <div class="card__content">
                <h3 class="card__title">Push Notifications</h3>
                <p class="card__text">
                  Notifications with a scroll-bounded transition
                </p>
              </div>
            </div>
          </label>
        </div>
      </form>
    </div>
    <footer>
      <div class="footer-brand">
        <a href="https://www.marfeel.com" target="_blank">
          <img class="footer-brand__img" src="https://www.marfeel.com/public/images/landing/header/logo-marfeel.svg">
        </a>
        <ul class="footer-brand__links">
          <li><a href="https://www.marfeel.com/docs/flowcards/flowcards-playground.html" target="_blank">Documentation</a></li>
          <li><a href="https://github.com/Marfeel/flowcards-playground"
            aria-label="Fork Marfeel/flowcards-playground on GitHub" target="_blank">
            <img class="github-logo" src="./assets/fork.svg" alt="">Fork on GitHub
              </a>
          </li>
        </ul>
      </div>
      <div class="footer__copy">
        © 2021 Marfeel, Inc. – All rights reserved.
      </div>
    </footer>
    <script>
      const myForm = document.getElementById("form");
      const input = document.querySelector(".form__input");
      const button = document.querySelectorAll(".form__button");
      const requestHostname = document.getElementById("requestHostname");
      requestHostname.value = window.location.hostname;

      const fillInput = () => {
        const urlParams = new URLSearchParams(window.location.search);
        const siteUrlParam = urlParams.get('siteUrl');
        input.value = siteUrlParam
          ? addProtocol(siteUrlParam)
          : `${window.location.origin}/templates/article-example.html`
      };

      const stateHandle = (e) => {
        if (e.target.value.length === 0) {
          button.forEach((btn) => {
            btn.disabled = true;
            btn.style.cursor = "not-allowed";
          });
        } else if (e.target.value.length > 0) {
          button.forEach((btn) => {
            btn.disabled = false;
            btn.style.cursor = "pointer";
          });
        }
      };

      const addProtocol = (url) => {
        if (!/^(?:f|ht)tps?\:\/\//.test(url)) {
            url = "https://" + url;
        }

        return url;
      }

      const onSubmit = (e) => {
        const siteUrl = document.querySelector("input[name=siteUrl]").value;
        document.querySelector("input[name=siteUrl]").value = addProtocol(siteUrl);
      };

      input.addEventListener("input", stateHandle);
      myForm.addEventListener("submit", onSubmit);
      fillInput();
    </script>
  </body>
</html>
